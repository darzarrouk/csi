

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dippingfault class &mdash; csi 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="csi 1.0 documentation" href="../index.html"/>
        <link rel="up" title="Some Untested Classes" href="../oldclasses.html"/>
        <link rel="next" title="faultwithdip class" href="faultwithdip.html"/>
        <link rel="prev" title="Some Untested Classes" href="../oldclasses.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> csi
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Some Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basictutorial.html">A Basic Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CSIpublications.html">Citations and CSI Publications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../classes.html">Classes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../mainclass.html">Principal CSI class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faultclasses.html">Classes of faults</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dataclasses.html">Classes for types of data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscclasses.html">Misc. Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Useful Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../oldclasses.html">Some Untested Classes</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">dippingfault class</a></li>
<li class="toctree-l3"><a class="reference internal" href="faultwithdip.html">faultwithdip class</a></li>
<li class="toctree-l3"><a class="reference internal" href="faultwithvaryingdip.html">faultwithvaryingdip class</a></li>
<li class="toctree-l3"><a class="reference internal" href="planarfault.html">planarfault class</a></li>
<li class="toctree-l3"><a class="reference internal" href="planarfaultkinematic.html">planarfaultkinematic class</a></li>
<li class="toctree-l3"><a class="reference internal" href="verticalfault.html">verticalfault class</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">csi</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../classes.html">Classes</a> &raquo;</li>
        
          <li><a href="../oldclasses.html">Some Untested Classes</a> &raquo;</li>
        
      <li>dippingfault class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/classes/dippingfault.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dippingfault-class">
<h1>dippingfault class<a class="headerlink" href="#dippingfault-class" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="csi.dippingfault">
<em class="property">class </em><code class="descclassname">csi.</code><code class="descname">dippingfault</code><span class="sig-paren">(</span><em>name</em>, <em>utmzone=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="csi.dippingfault.BuildPatchesVarResolution">
<code class="descname">BuildPatchesVarResolution</code><span class="sig-paren">(</span><em>depths</em>, <em>Depthpoints</em>, <em>Resolpoints</em>, <em>interpolation='linear'</em>, <em>minpatchsize=0.1</em>, <em>extrap=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.BuildPatchesVarResolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Patchizes the fault with a variable patch size at depth.
The variable patch size is given by the respoints table.
Depthpoints = [depth1, depth2, depth3, …., depthN]
Resolpoints = [Resol1, Resol2, Resol3, …., ResolN]
The final resolution is interpolated given the ‘interpolation’ method.
Interpolation can be ‘linear’, ‘cubic’.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.ExtractAlongStrikeVariations">
<code class="descname">ExtractAlongStrikeVariations</code><span class="sig-paren">(</span><em>depth=0.5</em>, <em>origin=None</em>, <em>filename='alongstrike.dat'</em>, <em>orientation=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.ExtractAlongStrikeVariations" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the Along Strike Variations of the creep at a given depth
Args:</p>
<blockquote>
<div>depth   : Depth at which we extract the along strike variations of slip.
origin  : Computes a distance from origin. Give [lon, lat].
filename: Saves to a file.
orientation: defines the direction of positive distances.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.addfaults">
<code class="descname">addfaults</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.addfaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Add some other faults to plot with the modeled one.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>filename      : Name of the fault file (GMT lon lat format).</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.addpatch">
<code class="descname">addpatch</code><span class="sig-paren">(</span><em>patch, slip=[0, 0, 0]</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.addpatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a patch to the list.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>patch     : Geometry of the patch to add</li>
<li>slip      : List of the strike, dip and tensile slip.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.assembleCd">
<code class="descname">assembleCd</code><span class="sig-paren">(</span><em>datas</em>, <em>add_prediction=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.assembleCd" title="Permalink to this definition">¶</a></dt>
<dd><p>Assembles the data covariance matrixes that have been built by each data structure.
add_prediction: Precentage of displacement to add to the Cd diagonal to simulate a Cp (prediction error).</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.assembleGFs">
<code class="descname">assembleGFs</code><span class="sig-paren">(</span><em>datas</em>, <em>polys=0</em>, <em>slipdir='sd'</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.assembleGFs" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble the Green’s functions that have been built using build GFs.
This routine spits out the General G and the corresponding data vector d.
Args:</p>
<blockquote>
<div><ul>
<li><p class="first">datas         : data sets to use as inputs (from gps and insar).</p>
</li>
<li><dl class="first docutils">
<dt>polys <span class="classifier-delimiter">:</span> <span class="classifier">0 -&gt; nothing additional is estimated</span></dt>
<dd><p class="first">1 -&gt; estimate a constant offset
3 -&gt; estimate z = ax + by + c
4 -&gt; estimate z = axy + bx + cy + d
‘full’ -&gt; Only for GPS, estimates a rotation, translation and scaling with</p>
<blockquote class="last">
<div><p>respect to the center of the network (Helmert transform).</p>
</div></blockquote>
</dd>
</dl>
</li>
<li><p class="first">slipdir       : which directions of slip to include. can be any combination of s, d and t.</p>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.assembled">
<code class="descname">assembled</code><span class="sig-paren">(</span><em>datas</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.assembled" title="Permalink to this definition">¶</a></dt>
<dd><p>Assembles the data vector corresponding to the stored green’s functions.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>datas         : list of the data object involved (from gps and insar).</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.associatePatch2PDFs">
<code class="descname">associatePatch2PDFs</code><span class="sig-paren">(</span><em>directory='.'</em>, <em>prefix='step_001_param'</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.associatePatch2PDFs" title="Permalink to this definition">¶</a></dt>
<dd><p>Associates a patch with a pdf called directory/prefix_{#}.dat.
import AltarExplore….</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.buildCm">
<code class="descname">buildCm</code><span class="sig-paren">(</span><em>sigma</em>, <em>lam</em>, <em>lam0=None</em>, <em>extra_params=None</em>, <em>lim=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.buildCm" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a model covariance matrix using the equation described in Radiguet et al 2010.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>sigma         : Amplitude of the correlation.</li>
<li>lam           : Characteristic length scale.</li>
<li>lam0          : Normalizing distance (if None, lam0=min(distance between patches)).</li>
<li>extra_params  : Add some extra values on the diagonal.</li>
<li>lim           : Limit distance parameter (see self.distancePatchToPatch)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.buildCmGaussian">
<code class="descname">buildCmGaussian</code><span class="sig-paren">(</span><em>sigma</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.buildCmGaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a diagonal Cm with sigma values on the diagonal.
sigma is a list of numbers, as long as you have components of slip (1, 2 or 3).
extra_params is a list of extra parameters.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.buildGFs">
<code class="descname">buildGFs</code><span class="sig-paren">(</span><em>data</em>, <em>vertical=True</em>, <em>slipdir='sd'</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.buildGFs" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the Green’s function matrix based on the discretized fault.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>data      : data object from gps or insar.</li>
<li>vertical  : if True, will produce green’s functions for the vertical displacements in a gps object.</li>
<li>slipdir   : direction of the slip along the patches. can be any combination of s (strikeslip), d (dipslip) and t (tensile).</li>
</ul>
</div></blockquote>
<p>The Green’s function matrix is stored in a dictionary. Each entry of the dictionary is named after the corresponding dataset. Each of these entry is a dictionary that contains ‘strikeslip’, ‘dipslip’ and/or ‘tensile’.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.build_patches">
<code class="descname">build_patches</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.build_patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds rectangular patches from the discretized fault.
A patch is a list of 4 corners.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.computeSlipDirection">
<code class="descname">computeSlipDirection</code><span class="sig-paren">(</span><em>scale=1.0</em>, <em>factor=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.computeSlipDirection" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the segment indicating the slip direction.
scale can be a real number or a string in ‘total’, ‘strikeslip’, ‘dipslip’ or ‘tensile’</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.computetotalslip">
<code class="descname">computetotalslip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.computetotalslip" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the total slip.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.deletepatch">
<code class="descname">deletepatch</code><span class="sig-paren">(</span><em>patch</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.deletepatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a patch.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>patch     : index of the patch to remove.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.deletepatches">
<code class="descname">deletepatches</code><span class="sig-paren">(</span><em>tutu</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.deletepatches" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a list of patches.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.differentiateGFs">
<code class="descname">differentiateGFs</code><span class="sig-paren">(</span><em>datas</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.differentiateGFs" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the Delaunay triangulation to prepare a differential Green’s function matrix, data vector
and data covariance matrix.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>datas         : List of dataset concerned</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.discretize">
<code class="descname">discretize</code><span class="sig-paren">(</span><em>every=2</em>, <em>tol=0.5</em>, <em>fracstep=0.2</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.discretize" title="Permalink to this definition">¶</a></dt>
<dd><p>Refine the surface fault trace prior to divide it into patches.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>every         : Spacing between each point.</li>
<li>tol           : Tolerance in the spacing.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.distancePatchToPatch">
<code class="descname">distancePatchToPatch</code><span class="sig-paren">(</span><em>patch1</em>, <em>patch2</em>, <em>distance='center'</em>, <em>lim=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.distancePatchToPatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures the distance between two patches.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>patch1    : geometry of the first patch.</li>
<li>patch2    : geometry of the second patch.</li>
<li><dl class="first docutils">
<dt>distance <span class="classifier-delimiter">:</span> <span class="classifier">distance estimation mode</span></dt>
<dd>center : distance between the centers of the patches.
no other method is implemented for now.</dd>
</dl>
</li>
<li>lim       : if not None, list of two float, the first one is the distance above which d=lim[1].</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.duplicateFault">
<code class="descname">duplicateFault</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.duplicateFault" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the fault.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.extrap1d">
<code class="descname">extrap1d</code><span class="sig-paren">(</span><em>interpolator</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.extrap1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear extrapolation routine. Found on StackOverflow by sastanin.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.extrapolate">
<code class="descname">extrapolate</code><span class="sig-paren">(</span><em>length_added=50</em>, <em>tol=2.0</em>, <em>fracstep=5.0</em>, <em>extrap='ud'</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.extrapolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Extrapolates the surface trace. This is usefull when building deep patches for interseismic loading.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>length_added  : Length to add when extrapolating.</li>
<li>tol           : Tolerance to find the good length.</li>
<li>fracstep      : control each jump size.</li>
<li><dl class="first docutils">
<dt>extrap <span class="classifier-delimiter">:</span> <span class="classifier">if u in extrap -&gt; extrapolates at the end</span></dt>
<dd>if d in extrap -&gt; extrapolates at the beginning
default is ‘ud’</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.file2trace">
<code class="descname">file2trace</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.file2trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the fault trace directly from a file.
Format is:
Lon Lat</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>filename      : Name of the fault file.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.get2DstrainEst">
<code class="descname">get2DstrainEst</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.get2DstrainEst" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the matrix to estimate the full 2d strain tensor.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.getHelmertMatrix">
<code class="descname">getHelmertMatrix</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.getHelmertMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Helmert matrix for a gps data set.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.getcenter">
<code class="descname">getcenter</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.getcenter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the center of one patch.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>p    : Patch geometry.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.getcenters">
<code class="descname">getcenters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.getcenters" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the center of the patches.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.getpatchgeometry">
<code class="descname">getpatchgeometry</code><span class="sig-paren">(</span><em>patch</em>, <em>center=False</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.getpatchgeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the patch geometry as needed for okada85.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>patch         : index of the wanted patch or patch;</li>
<li>center        : if true, returns the coordinates of the center of the patch. if False, returns the UL corner.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.getslip">
<code class="descname">getslip</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.getslip" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the slip vector for a patch.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.importPatches">
<code class="descname">importPatches</code><span class="sig-paren">(</span><em>filename, origin=[45.0, 45.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.importPatches" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a patch geometry and the corresponding files from a relax co-seismic file type.
Args:</p>
<blockquote>
<div>filename    : Input from Relax (See Barbot and Cie on the CIG website).
origin      : Origin of the reference frame used by relax. [lon, lat]</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.initializeslip">
<code class="descname">initializeslip</code><span class="sig-paren">(</span><em>n=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.initializeslip" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-initializes the fault slip array.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>n     : Number of slip values. If None, it’ll take the number of patches.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.ll2xy">
<code class="descname">ll2xy</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.ll2xy" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the lat lon 2 utm transform</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.mergePatches">
<code class="descname">mergePatches</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.mergePatches" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges 2 patches that have common corners.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>p1    : index of the patch #1.</li>
<li>p2    : index of the patch #2.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>ref='utm'</em>, <em>figure=134</em>, <em>add=False</em>, <em>maxdepth=None</em>, <em>axis='equal'</em>, <em>value_to_plot='total'</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the available elements of the fault.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>ref           : Referential for the plot (‘utm’ or ‘lonlat’).</li>
<li>figure        : Number of the figure.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.readPatchesFromFile">
<code class="descname">readPatchesFromFile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.readPatchesFromFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the patches from a GMT formatted file.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>filename  : Name of the file.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.rotationHoriz">
<code class="descname">rotationHoriz</code><span class="sig-paren">(</span><em>center</em>, <em>angle</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.rotationHoriz" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotates the geometry of the fault around center, of an angle.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>center    : [lon,lat]</li>
<li>angle     : degrees</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.saveGFs">
<code class="descname">saveGFs</code><span class="sig-paren">(</span><em>dtype='d'</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.saveGFs" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the Green’s functions in different files
Args:</p>
<blockquote>
<div>dtype       : Format of the binary data saved.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.setGFs">
<code class="descname">setGFs</code><span class="sig-paren">(</span><em>data, strikeslip=[None, None, None], dipslip=[None, None, None], tensile=[None, None, None], vertical=False</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.setGFs" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the Green’s functions matrices into the fault structure.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>data          : Data structure from gps or insar.</li>
<li>strikeslip    : List of matrices of the Strikeslip Green’s functions, ordered E, N, U</li>
<li>dipslip       : List of matrices of the dipslip Green’s functions, ordered E, N, U</li>
<li>tensile       : List of matrices of the tensile Green’s functions, ordered E, N, U</li>
</ul>
<p>If you provide InSAR GFs, these need to be projected onto the LOS direction already.</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.setGFsFromFile">
<code class="descname">setGFsFromFile</code><span class="sig-paren">(</span><em>data</em>, <em>strikeslip=None</em>, <em>dipslip=None</em>, <em>tensile=None</em>, <em>vertical=False</em>, <em>dtype='d'</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.setGFsFromFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the Green’s functions from binary files. Be carefull, these have to be in the 
good format (i.e. if it is GPS, then GF are E, then N, then U, optional, and 
if insar, GF are projected already)
Args:</p>
<blockquote>
<div><ul class="simple">
<li>data          : Data structure from gps or insar.</li>
<li>strikeslip    : File containing the Green’s functions for strikeslip displacements.</li>
<li>dipslip       : File containing the Green’s functions for dipslip displacements.</li>
<li>tensile       : File containing the Green’s functions for tensile displacements.</li>
<li>vertical      : Deal with the UP component (gps: default is false, insar, it will be true anyway).</li>
<li>dtype         : Type of binary data.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.setdepth">
<code class="descname">setdepth</code><span class="sig-paren">(</span><em>depth</em>, <em>top=0</em>, <em>num=5</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.setdepth" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the maximum depth of the fault patches.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>depth         : Depth of the fault patches.</li>
<li>num           : Number of fault patches at depth.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.slip2dis">
<code class="descname">slip2dis</code><span class="sig-paren">(</span><em>data</em>, <em>patch</em>, <em>slip=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.slip2dis" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the surface displacement at the data location using okada.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>data          : data object from gps or insar.</li>
<li>patch         : number of the patch that slips</li>
<li><dl class="first docutils">
<dt>slip <span class="classifier-delimiter">:</span> <span class="classifier">if a number is given, that is the amount of slip along strike</span></dt>
<dd>if three numbers are given, that is the amount of slip along strike, along dip and opening
if None, values from slip are taken</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.surfacesimulation">
<code class="descname">surfacesimulation</code><span class="sig-paren">(</span><em>box=None</em>, <em>disk=None</em>, <em>err=None</em>, <em>npoints=None</em>, <em>lonlat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.surfacesimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the slip vector and computes the surface displacement that corresponds on a regular grid.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>box       : Can be a list of [minlon, maxlon, minlat, maxlat].</li>
<li>disk      : list of [xcenter, ycenter, radius, n]</li>
<li>lonlat    : Arrays of lat and lon. [lon, lat]</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>Lon</em>, <em>Lat</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the surface fault trace.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>Lon           : Array/List containing the Lon points.</li>
<li>Lat           : Array/List containing the Lat points.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.trace2xy">
<code class="descname">trace2xy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.trace2xy" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose the surface trace of the fault into the UTM reference.</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.translationHoriz">
<code class="descname">translationHoriz</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.translationHoriz" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the patches.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>dx    : Translation along x (km)</li>
<li>dy    : Translation along y (km)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.utmzone">
<code class="descname">utmzone</code><span class="sig-paren">(</span><em>utmzone</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.utmzone" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the utm zone of the fault.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>utm           : UTM zone of the fault.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.writeEDKSgeometry">
<code class="descname">writeEDKSgeometry</code><span class="sig-paren">(</span><em>ref=None</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.writeEDKSgeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine spits out 2 files:
filename.lonlatdepth: Lon center | Lat Center | Depth Center (km) | Strike | Dip | Length (km) | Width (km) | patch ID
filename.END: Easting (km) | Northing (km) | Depth Center (km) | Strike | Dip | Length (km) | Width (km) | patch ID</p>
<p>These files are to be used with /home/geomod/dev/edks/MPI_EDKS/calcGreenFunctions_EDKS_subRectangles.py</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>ref           : Lon and Lat of the reference point. If None, the patches positions is in the UTM coordinates.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.writeEDKSsubParams">
<code class="descname">writeEDKSsubParams</code><span class="sig-paren">(</span><em>data</em>, <em>edksfilename</em>, <em>amax=None</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.writeEDKSsubParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the subParam file needed for the interpolation of the green’s function in EDKS.
Francisco’s program cuts the patches into small patches, interpolates the kernels to get the GFs at each point source, 
then averages the GFs on the pacth. To decide the size of the minimum patch, it uses St Vernant’s principle.
If amax is specified, the minimum size is fixed.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>data          : Data object from gps or insar.</li>
<li>edksfilename  : Name of the file containing the kernels.</li>
<li>amax          : Specifies the minimum size of the divided patch. If None, uses St Vernant’s principle.</li>
<li>plot          : Activates plotting.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd><ul class="first last simple">
<li>filename      : Name of the subParams file created.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.writePatches2File">
<code class="descname">writePatches2File</code><span class="sig-paren">(</span><em>filename</em>, <em>add_slip=None</em>, <em>scale=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.writePatches2File" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the patch corners in a file that can be used in psxyz.
Args:</p>
<blockquote>
<div><ul class="simple">
<li>filename      : Name of the file.</li>
<li>add_slip      : Put the slip as a value for the color. Can be None, strikeslip, dipslip, total.</li>
<li>scale         : Multiply the slip value by a factor.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.writeSlipDirection2File">
<code class="descname">writeSlipDirection2File</code><span class="sig-paren">(</span><em>filename</em>, <em>scale=1.0</em>, <em>factor=1.0</em>, <em>neg_depth=False</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.writeSlipDirection2File" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a psxyz compatible file to draw lines starting from the center of each patch, 
indicating the direction of slip.
Tensile slip is not used…
scale can be a real number or a string in ‘total’, ‘strikeslip’, ‘dipslip’ or ‘tensile’</p>
</dd></dl>

<dl class="method">
<dt id="csi.dippingfault.xy2ll">
<code class="descname">xy2ll</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#csi.dippingfault.xy2ll" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the utm to lat lon transform</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="faultwithdip.html" class="btn btn-neutral float-right" title="faultwithdip class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../oldclasses.html" class="btn btn-neutral" title="Some Untested Classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, R. Jolivet, Z. Duputel, B. Gombert, B. Riel, M. Simons et al..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>